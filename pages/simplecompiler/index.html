<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SimpleC Compiler â€“ CS250 Project</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-900">
  <div class="max-w-3xl mx-auto py-10 px-5">

    <!-- Title -->
    <h1 class="text-4xl font-bold mb-3">SimpleC Compiler</h1>

    <!-- Subtitle -->
    <p class="text-lg text-gray-700 mb-8">
      Tru Bui
    </p>

    <!-- Overview -->
    <p class="text-lg text-gray-700 mb-6">
      A compiler for a subset of the C language, written in C using
      Flex and Bison. Generates x86-64 assembly supporting arithmetic, pointer
      operations, conditionals, loops, arrays, and function calls via a
      register-backed stack machine.
    </p>

    <!-- Demo Video -->
    <video
      class="w-full rounded-lg shadow-lg mb-8"
      controls
      autoplay
      muted
      loop
    >
      <source src="simplecompiler/assets/simplecompiler_demo.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    <p class="text-lg text-gray-700 mb-6">
      This demo shows my Simple C Compiler (<code>scc</code>) compiling
      <code>and.c</code> and <code>bubblesort.c</code> into assembly files
      (<code>.s</code>). I then assemble them with <code>gcc -c</code> to produce
      object files, and finally link everything into runnable executables using
      <code>gcc -no-pie</code>.
    </p>

    <!-- Features -->
    <h3 class="text-2xl font-semibold mb-4">Key Features</h3>

    <ul class="list-disc pl-6 space-y-2 text-gray-800 mb-10">
      <li>Flex lexer + Bison parser for SimpleC grammar</li>
      <li>Generates x86-64 assembly compatible with gcc/clang</li>
      <li>Register-backed expression stack using rbx, r10, r13, r14, r15</li>
      <li>Arithmetic, logical, relational, and pointer operations</li>
      <li>Short-circuit evaluation for <code>&&</code> and <code>||</code></li>
      <li>If/else, while, for, and do-while code generation</li>
      <li>Array indexing and pointer dereference</li>
      <li>Function calls with System V AMD64 calling convention</li>
      <li>Stack frame layout: saved registers, arguments, locals</li>
      <li>Automatic label generation for branches and loops</li>
    </ul>

    <!-- Technical Implementation -->
    <h3 class="text-2xl font-semibold mb-4">Implementation Details</h3>

    <p class="text-gray-700 mb-2">
      The compiler is implemented in a single pass using Bison actions and a
      register-based virtual stack machine:
    </p>

    <ul class="list-disc pl-6 space-y-1 text-gray-700 mb-8">
      <li><strong>Lexer (Flex):</strong> tokenizes keywords, operators, identifiers, literals</li>
      <li><strong>Parser (Bison):</strong> parses grammar rules and emits x86-64 during reductions</li>
      <li><strong>Expression engine:</strong> evaluates expressions using a fixed register stack and spills to memory when needed</li>
      <li><strong>Control flow:</strong> lowers if/else/while/for/do-while into labels and jumps</li>
      <li><strong>Function calls:</strong> implements System V calling convention and stack frame setup</li>
      <li><strong>Arrays & pointers:</strong> handles <code>a[i]</code>, <code>*ptr</code>, address arithmetic, and memory loads/stores</li>
      <li><strong>Code output:</strong> produces fully valid .s assembly ready for linking</li>
    </ul>

    <!-- GitHub -->
    <a href="https://www.linkedin.com/in/tj-bui/"
       class="inline-block mt-6 text-blue-600 hover:underline text-lg">
      Contact me to see source code!
    </a>

  </div>
</body>
</html>
